<style>
  #alpaca-py-native-ad {
    display: none;
    opacity: 0;
    transition: opacity 100ms ease-in-out;
  }
  @media (min-width: 897px) {
    #alpaca-py-native-ad {
      display: block;
      opacity: 1;
      width: 100%;
      height: 100%;
    }
    #alpaca-py-native-ad img {
      width: 100%;
      height: auto;
    }
  }
</style>
<a href="https://alpaca.markets/docs/python-sdk/" id="alpaca-py-native-ad">
  <img src="{{ "alpaca-py-native-ad.png" | relURL }}"
    alt="Alpaca-py, The Official Python SDK for Alpaca's Suite of APIs" />
</a>
<script>
  window.addEventListener("DOMContentLoaded", function () {
    const ad = document.querySelector("#alpaca-py-native-ad");
    if (!ad) return;
    const pages = ["market-data","trading","broker"];
    let isVisible = false;
    if (window.location.pathname === "/docs/") {
      isVisible = true;
    } else {
      for(let i = 0; i< pages.length; i++){
        if(window.location.pathname.includes(pages[i])){ 
          isVisible = true;
          break;
        }
      }  
    }
    if (!isVisible) {
      ad.remove();
      return;
    };
    ad.addEventListener("click", function () {
      amplitude.getInstance().logEvent("docs_alpaca_py_ad_clicked", {
        url: [window.location.protocol, "//", window.location.host, window.location.pathname].join("")
      });
    });
  });
</script>